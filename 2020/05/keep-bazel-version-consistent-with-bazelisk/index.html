<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    
    
    <title>Computer Technology | Keep Bazel version consistent with Bazelisk</title>
</head>
<body><div class="section">
  <ul class="nav">
    
    <li>
      <a class="nav-link" href="/">
        Home
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="/post/">
        Posts
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="/pages/about/">
        Resume
      </a>
    </li>
    
  </ul>
</div>
<div class="section">
<div>
<h1>Keep Bazel version consistent with Bazelisk</h1>


<i data-feather="calendar"></i>
<time datetime="2020-05-14">May 14, 2020</time>

<i data-feather="tag"></i>


<a class="" href="https://kfeng.me/tags/bazel">bazel</a>



<br><br>


<h2 id="bazel">Bazel</h2>

<p>Bazel is a build system, which allows you to build and test source code written in many programming languages and other things such as Protocol Buffer.
Keeping bazel version consistent across developer machines and continuous integration machines is challenging.
Often, a continuous integration machine is running an older version of bazel.  The bazel installation on the CI machine needs
to be managed by someone who has privilege to install software.</p>

<h2 id="tools-bazel">tools/bazel</h2>

<p>Bazel provides a default way to wrap around the real Bazel binary on a machine.
If <code>tools/bazel</code> exists in a repository, Bazel will execute the <code>tools/bazel</code> instead of the real bazel binary.
<code>tools/bazel</code> can then ensure the bazel binary installed on the machine is the right version.</p>

<h2 id="bazelisk">Bazelisk</h2>

<p>If writing the <code>tools/bazel</code> script is too much work, using <a href="https://github.com/bazelbuild/bazelisk">Bazelisk</a> is
another option.  The idea is to check in both the linux binary and the macos binary of bazelisk
into the repository so that developer and the CI system can execute bazelisk without talking to the internet.
For those using Windows, you can check in the window binary as well.</p>

</div>

        </div><div class="section">
  <p>Copyright Â© 2020 Kenneth Feng.  All Rights Reserved</p>
</div>
</body>
</html>
